<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="15.0" DefaultTargets="Build" TreatAsLocalProperty="TaskFolder;TaskAssembly" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  
  <PropertyGroup>
    <ProjectSystemBase>$(MSBuildProjectDirectory)</ProjectSystemBase>
    <Configuration Condition="'$(Configuration)' == ''">Debug</Configuration>
    <Platform Condition="'$(Platform)' == ''">AnyCPU</Platform>
    <RunWorkingDirectory>$(MSBuildProjectDirectory)</RunWorkingDirectory>   
  </PropertyGroup>

  <PropertyGroup Condition="'$(Configuration)|$(Platform)' == 'Debug|AnyCPU'">
    <OutputPath Condition="'$(OutputPath)' == ''">bin\Debug\</OutputPath>
    <PlatformTarget>AnyCPU</PlatformTarget>
    <IntermediateOutputPath Condition="'$(IntermediateOutputPath)' == ''">obj\Debug\</IntermediateOutputPath>
    <SolutionPackageType Condition="'$(SolutionPackageType)' == ''">Unmanaged</SolutionPackageType>
  </PropertyGroup>

  <PropertyGroup Condition="'$(Configuration)|$(Platform)' == 'Release|AnyCPU'">
    <OutputPath Condition="'$(OutputPath)' == ''">bin\Release\</OutputPath>
    <PlatformTarget>AnyCPU</PlatformTarget>
    <IntermediateOutputPath Condition="'$(IntermediateOutputPath)' == ''">obj\Release\</IntermediateOutputPath>
    <SolutionPackageType Condition="'$(SolutionPackageType)' == ''">Managed</SolutionPackageType>
  </PropertyGroup>
  
  <PropertyGroup>
    <TaskFolder Condition="'$(MSBuildRuntimeType)' == 'Core'">netstandard2.0</TaskFolder>
    <TaskFolder Condition="'$(MSBuildRuntimeType)' != 'Core'">net462</TaskFolder>
    <TaskAssembly>$(MSBuildThisFileDirectory)..\tasks\$(TaskFolder)\Microsoft.PowerApps.MSBuild.Tasks.dll</TaskAssembly>
  </PropertyGroup>

  <UsingTask TaskName="Tasks.MutateCdsSolutionAssets" AssemblyFile="$(TaskAssembly)" />

</Project>